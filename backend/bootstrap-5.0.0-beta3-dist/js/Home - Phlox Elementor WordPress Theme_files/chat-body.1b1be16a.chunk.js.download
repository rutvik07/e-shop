beaconJsonp([4],{1038:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(808),s=o(u),c=n(859),f=o(c),d=n(0),p=o(d),m=n(24),h=o(m),b=n(61),g=n(11),y=n(57),v=n(145),_=n(756),O=o(_),C=n(1039),M=o(C),E=n(1042),w=o(E),x=n(1050),P=o(x),T=n(1054),j=o(T),S=n(48),k=n(78),I=n(27),N=n(7),A=n(80),B=n(1060),U=o(B),R=n(862),L=o(R),D=n(32),W=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={isLoadingMessages:!1},o.scrollToBottom=function(){setTimeout(function(){var e=h.default.findDOMNode(o.chatScrollerRef);e&&e.scrollIntoView(!1)})},o.handleMessageClick=function(e,t){var n=o.props,r=n.docsDomains,a=n.history,i=t||e.target.href,l=i&&r&&r.some(function(e){return i.includes(e)}),u=l&&parseInt(i.split("/").pop().split("-").shift(),10);u&&(e.preventDefault(),a.push("/ask/chat/article/"+u))},o.getScrollParent=function(){var e=o.context.document.querySelector(".BeaconLayout");return e.length?e[0]:window},o.getScrollParentHeight=function(){return o.getScrollParent().scrollHeight},o.onMessagesScrollLoaded=function(){var e=o.props.messagesPagination,t=e.page;if(!(t>=e.lastPage)){var n=t+1;return o.fetchMessages(n)}},o.setChatScrollerRef=function(e){return o.chatScrollerRef=e},i=n,a(o,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.chatId,o=t.chatEnvelope,r=t.fetchChatEnvelope,a=t.maybeMarkMessagesAsSeen,i=t.onMount;n&&!o.data&&r(n),n&&o.data&&a(),setTimeout(function(){return e.scrollToBottom()},1e3),i()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.messagesPagination,o=t.isBeaconOpened,r=e.messagesPagination,a=e.isBeaconOpened;n&&r&&n.totalCount>r.totalCount&&!(0,D.isTabVisible)()&&L.default.notification(),!a&&o&&this.scrollToBottom()}},{key:"fetchMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.props.fetchChatEvents,o=this.state.messagesCancelToken;o&&o.cancel();var r=y.CancelToken.source();this.setState({isLoadingMessages:!0,messagesCancelToken:r},function(){e.prevScrollPos=e.getScrollParentHeight()});var a=function(){e.setState({isLoadingMessages:!1,messagesCancelToken:!1})};return n({page:t},r.token).then(a,a)}},{key:"renderInfiniteScroller",value:function(){var e=this.props.messagesPagination;return e.page<e.lastPage?p.default.createElement(f.default,{getScrollParent:this.getScrollParent,onLoading:this.onMessagesScrollLoaded,offset:-200,isLoading:this.state.isLoadingMessages}):null}},{key:"renderChatBody",value:function(){var e=this.props,t=e.agent,n=e.messages,o=e.updateChatImageDimensions;return p.default.createElement(O.default,null,this.renderInfiniteScroller(),p.default.createElement(s.default.Provider,{theme:"embed"},p.default.createElement(w.default,{agent:t,handleMessageClick:this.handleMessageClick,messages:n,onImageLoad:o})),p.default.createElement(j.default,null))}},{key:"renderEndChat",value:function(){return p.default.createElement(P.default,{scrollToBottom:this.scrollToBottom})}},{key:"render",value:function(){var e=this.props,t=e.isChatEnded,n=e.messagesRaw;return p.default.createElement(M.default,{innerRef:this.setChatScrollerRef,messages:n,scrollToBottom:this.scrollToBottom},this.renderChatBody(),t&&this.renderEndChat())}}]),t}(d.Component);W.defaultProps={onMount:function(){},onUnmount:function(){}},W.contextType=v.FrameContext;var z=function(e){var t=e.chat,n=t.id,o=t.envelope;return{agent:(0,I.getChatActiveAgent)(e),chatEnvelope:o,chatId:n,docsDomains:(0,N.getDocsDomains)(e),isBeaconOpened:(0,A.getIsOpened)(e),isChatEnded:(0,I.getChatIsEnded)(e),labels:(0,N.getLabels)(e),messages:(0,I.getFormattedConversation)(e)||[],messagesPagination:(0,I.getChatMessagesPagination)(e)||{},messagesRaw:(0,I.getChatMessages)(e)||{}}},H={addChatMessage:S.addChatMessage,fetchChatEnvelope:S.fetchChatEnvelope,fetchChatEvents:S.fetchChatEvents,maybeMarkMessagesAsSeen:S.maybeMarkMessagesAsSeen,updateChatImageDimensions:S.updateChatImageDimensions,onMount:function(){return(0,k.updateBodyIsScrollable)(!0)},onUnmount:function(){return(0,k.updateBodyIsScrollable)(!1)}};t.default=(0,b.compose)(U.default,(0,g.connect)(z,H))(W)},1039:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1040),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default},1040:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=n(1041),c=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.getScrollBottom=function(){var e=a.chatScrollerRef.scrollTop,t=a.chatScrollerRef.clientHeight,n=a.chatScrollerContentRef.clientHeight;return n>t?n-t-e:0},a.setChatScrollerRef=function(e){a.chatScrollerRef=e},a.setChatScrollerContentRef=function(e){a.chatScrollerContentRef=e,a.props.innerRef(e)},i=n,r(a,i)}return a(t,e),i(t,[{key:"componentDidUpdate",value:function(e){var t=e.messages,n=this.props,o=n.messages,r=n.scrollToBottom,a=this.getScrollBottom(),i=o[o.length-1],l=i&&i.author&&"customer"===i.author.type;o.length>t.length&&(a<200||l)&&r()}},{key:"render",value:function(){var e=this.props.children;return u.default.createElement(s.ChatScrollerUI,{ref:this.setChatScrollerRef},u.default.createElement("div",{ref:this.setChatScrollerContentRef},e))}}]),t}(u.default.Component);c.defaultProps={innerRef:function(){},messages:[],scrollToBottom:function(){}},t.default=c},1041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatScrollerUI=void 0;var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  flex: 1;\n  height: 100%;\n  overflow-y: auto;\n  position: relative;\n"],["\n  flex: 1;\n  height: 100%;\n  overflow-y: auto;\n  position: relative;\n"]),r=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.ChatScrollerUI=(0,a.default)("div")(o)},1042:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageList=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(60),s=o(u),c=n(150),f=o(c),d=n(0),p=o(d),m=n(1),h=(o(m),n(11)),b=n(27),g=n(895),y=o(g),v=n(40),_=n(294),O=n(14),C=o(O),M=n(1044),E=o(M),w=n(1049),x=n(16),P=n(32),T=n(4),j=n(5),S=t.MessageList=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.isIE=(0,P.isIE)(),o.renderMessage=function(e,t){var n=o.props,r=n.handleMessageClick,a=n.onImageLoad,i=n.toggleFullScreen,l=e.author,u=e.attachments,s=void 0===u?[]:u,c=e.rawBody,f=e.caption,d=e.error,m=e.filename,h=e.id,b=e.height,g=e.imageUrl,O=e.isUploading,C=e.unfurledMedia,M=void 0===C?[]:C,w=e.url,x=e.width,P=void 0,T=h||t,j=k(l),S=I(l),N={onMediaLoad:a,height:b,toggleFullScreen:i,width:x},A=M[0]&&M[0].url,B=function(e){r(e,A)},U={className:"c-AskChatMessageList__messageItem",id:h,from:S,to:j,onClick:B};switch(e.type){case v.MESSAGE_TYPES.action:P=p.default.createElement(y.default.Action,U,c);break;case v.MESSAGE_TYPES.attachment:P=p.default.createElement(y.default.Attachment,Object.assign({},U,{error:d,filename:m,isUploading:O,url:w}));break;case v.MESSAGE_TYPES.image:P=p.default.createElement(y.default.Media,Object.assign({},U,N,{caption:f,error:d,imageUrl:g,isUploading:O,url:w}));break;case v.MESSAGE_TYPES.message:P=c?p.default.createElement(y.default.Chat,Object.assign({},U,{body:c,error:d})):null;break;case v.MESSAGE_TYPES.indicator:P=p.default.createElement(y.default.Chat,{typing:!0});break;default:P=void 0}return[P,s.map(function(e,t){var n=T+"-attachment-"+t;return _.ATTACHMENT_IMAGE_TYPES.indexOf(e.mime)>=0?p.default.createElement(y.default.Media,Object.assign({},U,N,{caption:e.name,id:e.id,imageUrl:e.url,url:e.url,key:n})):p.default.createElement(y.default.Attachment,Object.assign({},U,{download:!0,id:e.id,filename:e.name,url:e.url,key:n}))}),M.map(function(e,t){var n=Object.assign({},e,{onClick:B,key:T+"-unfurl-"+t});return p.default.createElement(E.default,n)})]},o.renderAriaLive=function(){var e=o.props.ariaLiveMessage;return p.default.createElement(s.default,{role:"region","aria-live":"polite"},e)},i=n,a(o,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.messages,r=(0,C.default)("c-AskChatMessageList",n),a=o.filter(function(e){return e&&e.type}),i=(0,j.getThemeBrandProp)(this.props,"brandColor"),l=a.map(function(t,n){var o=t.author,r=t.id,a=t.messages,l=r?"messageGroup-"+r:n,u=k(o),s=I(o),c=(0,C.default)({"c-AskChatMessageList__avatar--white-theme":"#ffffff"===i}),d=s?p.default.createElement(f.default,{image:o.photo,name:o.displayName,className:c}):null,m=(0,C.default)("c-AskChatMessageList__message",!0===o.hideName&&"is-author-hidden");return p.default.createElement(y.default,{"aria-label":"Chat message",key:l,className:m,avatar:d,from:s,to:u},a.map(e.renderMessage))});return p.default.createElement(w.WrapperUI,{className:r,isIE:this.isIE},this.renderAriaLive(),p.default.createElement("section",{"aria-label":"Live Chat"},l))}}]),t}(d.PureComponent);S.defaultProps={ariaLiveMessage:"",onImageLoad:function(){},messages:[]},S.displayName="Ask/Chat/MessageList";var k=function(e){return e&&e.type===v.AUTHOR_TYPES.customer},I=function(e){return!e||e.type!==v.AUTHOR_TYPES.agent&&e.type!==v.AUTHOR_TYPES.system?null:e.displayName},N=function(e){return{ariaLiveMessage:(0,b.getAriaLiveMessage)(e)}},A={toggleFullScreen:x.toggleFullScreen};t.default=(0,h.connect)(N,A)((0,T.withTheme)(S))},1043:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),f=n(1),d=o(f),p=n(810),m=o(p),h={onMediaClick:function(){},onMediaLoad:function(){}},b={toggleFullScreen:d.default.func},g=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleOnMediaClick=e.handleOnMediaClick.bind(e),e.handleOnMediaLoad=e.handleOnMediaLoad.bind(e),e}return l(t,e),u(t,[{key:"handleOnMediaClick",value:function(){var e=this.props,t=e.height,n=e.imageUrl,o=e.onMediaClick,r=e.url,a=e.toggleFullScreen,i=e.width;(n||r)&&(a&&a(!0,{imageHeight:t,imagePlaceholderUrl:n,imageUrl:r,imageWidth:i}),o.apply(void 0,arguments))}},{key:"handleOnMediaLoad",value:function(e){var t=this.props,n=t.id,o=t.onMediaLoad;if(!n||!e||!e.target)return void o(e);var r=e.target;o({event:e,id:n,height:r.naturalHeight,width:r.naturalWidth})}},{key:"render",value:function(){var e=this.props,t=(e.onMediaClick,e.onMediaLoad,e.height,e.url,e.width,r(e,["onMediaClick","onMediaLoad","height","url","width"])),n=this.handleOnMediaClick,o=this.handleOnMediaLoad;return c.default.createElement(m.default,Object.assign({},t,{onMediaClick:n,onMediaLoad:o}))}}]),t}(s.PureComponent);g.defaultProps=h,g.contextTypes=b,g.displayName="Message.Media",t.default=g},1044:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedType=t.isArticle=t.propTypes=void 0;var a=n(1045),i=o(a),l=n(0),u=o(l),s=n(1),c=o(s),f=n(895),d=o(f),p=n(1048),m=(t.propTypes={description:c.default.string,url:c.default.string,thumbnailUrl:c.default.string,title:c.default.string,type:c.default.string},t.isArticle=function(e){var t=e.description,n=e.title;return!(!t||!n)}),h=t.isSupportedType=function(e){var t=e.type;return p.SUPPORTED_UNFURLED_MEDIA_TYPES.indexOf(t)>=0},b=function(e){var t=e.description,n=(e.thumbnail_url,e.title),o=e.type,a=e.url,l=e.onClick,s=r(e,["description","thumbnail_url","title","type","url","onClick"]);return h(e)?o===p.UNFURLED_MEDIA_TYPES.image?u.default.createElement(d.default.Media,Object.assign({imageUrl:a,url:a},s,{onClick:l})):m(e)?u.default.createElement(d.default.Content,{onClick:l},u.default.createElement(i.default,{href:encodeURI(a),title:n,target:"_blank"},t)):null:null};t.default=b},1045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1046)),r=o.default;t.default=r},1046:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=o(n(809)),f=o(n(76)),d=o(n(37)),p=n(2),m=n(1047),h=function(e){var t=e.children,n=e.className,o=(e.isNote,e.title),i=a(e,["children","className","isNote","title"]),u=function(e){var a=e.isNote,u=(0,p.classNames)("c-PreviewCard",a&&"is-note",n),c=o?l.default.createElement(f.default,{className:"c-PreviewCard__title",size:"h6"},o):null;return l.default.createElement(m.PreviewCardUI,r({},(0,s.default)(i),{className:u}),c,l.default.createElement(d.default,{muted:!0,className:"c-PreviewCard__content"},t))};return l.default.createElement(c.default.Consumer,null,function(e){return u(e)})};h.defaultProps={"data-cy":"PreviewCard"},h.propTypes={className:u.default.string,isNote:u.default.bool,title:u.default.string,"data-cy":u.default.string};var b=h;t.default=b},1047:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewCardUI=void 0;var r=o(n(4)),a=n(5),i=n(307),l=n(768),u=n(2),s=o(n(100)),c=(0,u.BEM)(".c-PreviewCard"),f=(0,r.default)(s.default).withConfig({displayName:"PreviewCardcss__PreviewCardUI",componentId:"sc-1vh7aq1-0"})(["",";padding:20px;text-decoration:none;&:hover{text-decoration:none;}","{margin-bottom:4px;}&.is-link{","{color:",";}}&.is-hoverable{border-radius:5px;}&.is-note{",";border:none;}"],(0,i.shadowlessBoxShadowWithHover)(),c.element("title"),c.element("title"),(0,a.getColor)("link.base"),(0,l.noteBoxShadowWithHover)());t.PreviewCardUI=f},1048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.UNFURLED_MEDIA_TYPES={app:"app",doc:"doc",file:"file",image:"image",link:"link",rich:"rich",video:"video"};t.SUPPORTED_UNFURLED_MEDIA_TYPES=[o.doc,o.image,o.rich]},1049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperUI=void 0;var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  font-size: 13px;\n  padding: ",";\n\n  a {\n    color: #07c;\n\n    &:hover {\n      color: #1292ee;\n    }\n  }\n"],["\n  font-size: 13px;\n  padding: ",";\n\n  a {\n    color: #07c;\n\n    &:hover {\n      color: #1292ee;\n    }\n  }\n"]),r=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.WrapperUI=(0,a.default)("div")(o,function(e){return e.isIE?"0":"10px 10px 0"})},1050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1051),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default},1051:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EndChat=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=o(s),f=n(1),d=(o(f),n(11)),p=n(40),m=n(48),h=n(27),b=n(7),g=n(1052),y=o(g),v=n(1053),_=o(v),O=t.EndChat=function(e){function t(){var e,n,o,l;a(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={comments:"",isDoneFromChatRating:!1,rating:""},o.onChange=function(e,t){o.setState(r({},e,t))},o.setChatRating=function(){var e=o.state,t=e.comments,n=e.rating;o.props.setChatRating({comments:t,rating:n})},l=n,i(o,l)}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.scrollToBottom()}},{key:"componentDidUpdate",value:function(e,t){""===t.rating&&this.state.rating.length&&0===this.state.comments.length&&this.props.scrollToBottom(),!t.isDoneFromChatRating&&this.state.isDoneFromChatRating&&this.props.scrollToBottom()}},{key:"isChatRatingVisible",value:function(){var e=this.props,t=e.agent,n=e.chatEndReason;return e.isChatRatingsEnabled&&!this.state.isDoneFromChatRating&&n!==p.CHAT_END_REASONS.UNASSIGNED&&n!==p.CHAT_END_REASONS.WAITING_CUSTOMER&&t&&t.id}},{key:"render",value:function(){var e=this,t=this.props.labels;if(this.isChatRatingVisible()){var n=this.state,o=n.comments,r=n.rating,a=this.props.agent;return c.default.createElement(_.default,{agent:a,comments:o,labels:t,onChange:this.onChange,ref:function(t){return e.ref=t},rating:r,setChatRating:this.setChatRating})}var i=this.props,l=i.chatCustomer,u=i.chatEndReason,s=i.emailTranscriptEnabled,f=i.isAgentConnected;return c.default.createElement(y.default,{chatCustomer:l,chatEndReason:u,emailTranscriptEnabled:s,isAgentConnected:f,labels:t})}}]),t}(c.default.Component),C=function(e){return{agent:(0,h.getChatActiveAgent)(e),chatCustomer:(0,h.getChatCustomer)(e),chatEndReason:(0,h.getChatEndReason)(e),emailTranscriptEnabled:(0,b.getChatConfig)(e).emailTranscriptEnabled,isAgentConnected:(0,h.isAgentConnected)(e),isChatRatingsEnabled:(0,b.getIsChatRatingsEnabled)(e),labels:(0,b.getLabels)(e)}},M={setChatRating:m.setChatRating};t.default=(0,d.connect)(C,M)(O)},1052:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.chatCustomer,n=e.chatEndReason,o=e.emailTranscriptEnabled,r=e.isAgentConnected,a=e.labels,i={},l=n,u=!(!t||!t.email);switch(l!==_.CHAT_END_REASONS.ENDED||r||(l=_.CHAT_END_REASONS.WAITING_CUSTOMER),l){case _.CHAT_END_REASONS.UNASSIGNED:i={heading:a.chatEndUnassignedCalloutHeading,message:a.chatEndUnassignedCalloutMessage};break;case _.CHAT_END_REASONS.WAITING_CUSTOMER:i={heading:a.chatEndWaitingCustomerHeading,message:a.chatEndWaitingCustomerMessage};break;default:i={heading:a.chatEndCalloutHeading,message:o&&u?a.chatEndCalloutMessage:null,showTick:!0}}return Object.assign({},i,{chatEndCalloutLink:a.chatEndCalloutLink})}function u(e){return e.showTick?h.default.createElement(v.DoneIconCircleUI,{showTick:!0},h.default.createElement(v.DoneIconTickUI,{"data-cy":"BeaconChatEndConfirmationAvatar",name:"tick-small",size:"24"})):h.default.createElement(v.DoneIconCircleUI,{showTick:!1},h.default.createElement(v.DoneIconSadFaceUI,{name:"sad",size:"lg"}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(37),f=o(c),d=n(99),p=o(d),m=n(0),h=o(m),b=n(1),g=(o(b),n(896)),y=o(g),v=n(861),_=n(40),O=n(39),C=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=l(this.props);return h.default.createElement(y.default,null,h.default.createElement(v.DoneCardUI,null,u(t),h.default.createElement(v.BodyUI,null,h.default.createElement(v.TitleUI,{"data-cy":"BeaconChatEndConfirmationTitle",ref:function(t){return e.titleRef=t}},t.heading),t.message?h.default.createElement(v.BodyTextUI,{"data-cy":"BeaconChatEndConfirmationText"},t.message,h.default.createElement("span",null," ")):null,h.default.createElement(p.default,{className:"c-EndChatCalloutCard__link",to:O.HOME},h.default.createElement(f.default,{size:"13"},t.chatEndCalloutLink)))))}}]),t}(h.default.Component);t.default=C},1053:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(311),s=o(u),c=n(0),f=o(c),d=n(1),p=(o(d),n(764)),m=o(p),h=n(861),b=n(896),g=o(b),y=n(98),v=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.onCommentChange=function(e){o.props.onChange("comments",e)},o.onRatingChange=function(e){o.props.onChange("rating",e)},o.onSubmit=function(){o.props.onChange("isDoneFromChatRating",!0),o.props.setChatRating()},i=n,a(o,i)}return i(t,e),l(t,[{key:"renderTextbox",value:function(e){if(!e)return null;var t=this.props,n=t.comments,o=void 0===n?"":n,r=t.labels.chatRatingCommentsPlaceholder;return f.default.createElement(h.InputUI,{charValidatorLimit:500,"data-cy":"BeaconChatRatingsTextInput",isFocused:!0,maxHeight:75,multiline:3,onChange:this.onCommentChange,placeholder:r,withCharValidator:!0,value:o})}},{key:"renderTitle",value:function(){var e=this.props,t=e.agent,n=e.labels;return f.default.createElement(h.TitleUI,{"data-cy":"BeaconChatRatingsTitle"},(0,y.replaceValues)(n.chatRatingLabel,{name:t.displayName}))}},{key:"renderRatings",value:function(){var e=this,t=this.props.rating;return f.default.createElement(h.RatingsContainer,null,f.default.createElement(h.RatingsItem,{"data-cy":"BeaconChatRatingsFacePositive"},f.default.createElement(s.default,{isActive:"1"===t,name:"happy",onClick:function(){return e.onRatingChange("1")},withCircle:!0})),f.default.createElement(h.RatingsItem,{"data-cy":"BeaconChatRatingsFaceNeutral"},f.default.createElement(s.default,{isActive:"2"===t,name:"meh",onClick:function(){return e.onRatingChange("2")},withCircle:!0})),f.default.createElement(h.RatingsItem,{"data-cy":"BeaconChatRatingsFaceNegative"},f.default.createElement(s.default,{isActive:"3"===t,name:"sad",onClick:function(){return e.onRatingChange("3")},withCircle:!0})))}},{key:"render",value:function(){var e=this.props,t=e.agent,n=e.labels,o=e.rating,r=!!o;return f.default.createElement(g.default,null,f.default.createElement(h.RatingCardUI,null,f.default.createElement(h.AvatarUI,{"data-cy":"BeaconChatRatingsAvatar",image:t.photo,initials:t.initials,size:"xl"}),f.default.createElement(h.BodyUI,null,this.renderTitle(),this.renderRatings(),this.renderTextbox(r),f.default.createElement(m.default,{"data-cy":"BeaconChatRatingsRateButton",disabled:!r,onClick:this.onSubmit},n.chatRatingButton))))}}]),t}(f.default.Component);t.default=v},1054:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1055),a=o(r),i=n(11),l=n(1059),u=o(l),s={refresh:u.default},c=function(){return{}};t.default=(0,i.connect)(c,s)(a.default)},1055:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1056),a=o(r),i=n(0),l=o(i),u=n(1058),s=n(23),c=function(e){function t(e){e&&n()}var n=e.refresh,o={url:s.BEACON_API_URL_CF+"/health-check"};return l.default.createElement(u.Online,{onChange:t,polling:o},l.default.createElement(a.default,{onWake:n}))};t.default=c},1056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(1057)),r=o.default;t.default=r},1057:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=p();return function(){var n,o=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=r(n(0)),b=r(n(1)),g=n(8),y=function(e){function t(e){var o;return a(this,t),o=n.call(this,e),o.state={},o}u(t,e);var n=c(t);return l(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.clearInterval();var t=this.props,n=t.interval,o=t.buffer,r=setInterval(function(){var t=e.props.onWake,r=e.state.lastRun,a=Date.now(),i=a-r-n;i>o&&t(i),e.setState({lastRun:Date.now()})},n),a=Date.now();this.setState({intervalId:r,lastRun:a})}},{key:"componentWillUnmount",value:function(){this.clearInterval()}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this.state.intervalId;clearInterval(e)})},{key:"render",value:function(){return null}}]),t}(h.default.Component);y.defaultProps={buffer:5e3,interval:1e4,onWake:g.noop},y.propTypes={buffer:b.default.number,interval:b.default.number,onWake:b.default.func};var v=y;t.default=v},1058:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Detector=t.Offline=t.Online=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f="undefined"!==typeof navigator,d=/Windows.*Chrome|Windows.*Firefox|Linux.*Chrome/,p=function(e){var t=e.url,n=e.timeout;return new Promise(function(e){var o=function(){return e(!0)},r=function(){return e(!1)},a=new XMLHttpRequest;a.onerror=r,a.ontimeout=r,a.onreadystatechange=function(){a.readyState===a.HEADERS_RECEIVED&&(a.status?o():r())},a.open("HEAD",t),a.timeout=n,a.send()})},m={children:c.default.node,onChange:c.default.func,polling:c.default.oneOfType([c.default.shape({url:c.default.string,interval:c.default.number,timeout:c.default.number}),c.default.bool]),wrapperType:c.default.string},h={polling:!0,wrapperType:"span"},b={enabled:f&&d.test(navigator.userAgent),url:"https://ipv4.icanhazip.com/",timeout:5e3,interval:5e3},g=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={online:!f||"boolean"!==typeof navigator.onLine||navigator.onLine},e.goOnline=e.goOnline.bind(e),e.goOffline=e.goOffline.bind(e),e}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("online",this.goOnline),window.addEventListener("offline",this.goOffline),this.getPollingConfig().enabled&&this.startPolling()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.goOnline),window.removeEventListener("offline",this.goOffline),this.pollingId&&this.stopPolling()}},{key:"renderChildren",value:function(){var e=this.props,t=e.children,n=e.wrapperType;return(0,u.isValidElement)(t)?t:t?u.createElement.apply(void 0,[n,{}].concat(o(u.Children.toArray(t)))):null}},{key:"getPollingConfig",value:function(){switch(this.props.polling){case!0:return b;case!1:return{enabled:!1};default:return Object.assign({},b,this.props.polling)}}},{key:"goOnline",value:function(){this.state.online||(this.callOnChangeHandler(!0),this.setState({online:!0}))}},{key:"goOffline",value:function(){this.state.online&&(this.callOnChangeHandler(!1),this.setState({online:!1}))}},{key:"callOnChangeHandler",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"startPolling",value:function(){var e=this,t=this.getPollingConfig(),n=t.interval;this.pollingId=setInterval(function(){var t=e.getPollingConfig(),n=t.url,o=t.timeout;p({url:n,timeout:o}).then(function(t){t?e.goOnline():e.goOffline()})},n)}},{key:"stopPolling",value:function(){clearInterval(this.pollingId)}}]),t}(u.Component);g.propTypes=m,g.defaultProps=h;var y=t.Online=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return this.state.online?this.renderChildren():null}}]),t}(g);y.propTypes=m,y.defaultProps=h;var v=t.Offline=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return this.state.online?null:this.renderChildren()}}]),t}(g);v.propTypes=m,v.defaultProps=h;var _=t.Detector=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return this.props.render({online:this.state.online})}}]),t}(g);_.propTypes=Object.assign({},m,{render:c.default.func.isRequired}),_.defaultProps=h},1059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(27),i=n(48),l=function(){return function(e,t){var n=t(),o=(0,a.getChatId)(n);o&&(r.default.log("Beacon out of date - refresh automatically"),e((0,i.fetchChatEnvelope)(o)))}};t.default=l},1060:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(t){function n(e){o(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleAvailableAgentsSuccess=function(){var e=t.props.availableAgents;return e&&e.data&&e.data.length>0?t.handleChatAvailable():t.handleChatNotAvailable()},t.handleAvailableAgentsFailure=function(){return t.handleChatNotAvailable()},t.handleChatAvailable=function(){var e=t.props,n=e.fetchJWT,o=e.updateChatData;if(e.state!==g.CHAT_STATES.CREATING_ENVELOPE)return o({state:g.CHAT_STATES.CREATING_ENVELOPE}),n().then(t.handleFetchJWTSuccess).catch(t.handleFetchJWTFailure)},t.handleChatNotAvailable=function(){var e=t.props,n=e.history,o=e.resetChat,r=e.subject,a=e.updateChatAvailabilityInfo;return(0,e.updateMessage)({text:r}),a(!0),o(),n.replace(y.ASK_MESSAGE)},t.handleFetchJWTSuccess=function(){var e=t.props,n=e.createChatEnvelope,o=e.emailRequired,r=e.subject,a=e.syncCustomer;return n({subject:r}).then(t.handleCreateChatEnvelopeSuccess).then(function(){if(o)return a()}).catch(t.handleCreateChatEnvelopeFailure)},t.handleFetchJWTFailure=function(e){var n=t.props.labels,o=e.response,r=void 0===o?{}:o,a=r&&401===r.status,i=a?n.chatbotInvalidEmailMessage:n.chatbotGenericErrorMessage,l=a?g.CHAT_STATES.BOT_PROMPT_EMAIL:g.CHAT_STATES.BOT_PROMPT_SUBJECT;t.sendBotMessageAndUpdateChatState(i,l)},t.handleCreateChatEnvelopeSuccess=function(){var e=t.props.labels;t.sendBotMessageAndUpdateChatState(e.chatbotConfirmationMessage,g.CHAT_STATES.AGENT_WAITING)},t.handleCreateChatEnvelopeFailure=function(){var e=t.props.labels;t.sendBotMessageAndUpdateChatState(e.chatbotGenericErrorMessage,g.CHAT_STATES.BOT_PROMPT_SUBJECT)},t.chatBot=e.getChatBot(),t.init(),t}return a(n,t),l(n,[{key:"componentDidMount",value:function(){this.props.state===g.CHAT_STATES.EMPTY&&this.greet()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.resetChat;e.state===g.CHAT_STATES.ENDED&&t(),this.chatBot.removeAllListeners(g.CHATBOT_EVENTS.BOT_TYPING_START),this.chatBot.removeAllListeners(g.CHATBOT_EVENTS.BOT_TYPING_END)}},{key:"init",value:function(){var e=g.CHATBOT_EVENTS.BOT_MESSAGE,t=g.CHATBOT_EVENTS.BOT_TYPING_START,n=g.CHATBOT_EVENTS.BOT_TYPING_END,o=g.CHATBOT_EVENTS.USER_ANSWER_SUBJECT,r=g.CHATBOT_EVENTS.USER_ANSWER_EMAIL,a=g.CHATBOT_EVENTS.USER_INACTIVE;this.chatBot.removeAllListeners(e),this.chatBot.removeAllListeners(o),this.chatBot.removeAllListeners(r),this.chatBot.removeAllListeners(a),this.chatBot.on(t,this.handleBotTypingStart.bind(this)),this.chatBot.on(n,this.handleBotTypingEnd.bind(this)),this.chatBot.on(e,this.handleBotMessage.bind(this)),this.chatBot.on(o,this.handleUserAnswerSubject.bind(this)),this.chatBot.on(r,this.handleUserAnswerEmail.bind(this)),this.chatBot.on(a,this.handleUserInactivity.bind(this))}},{key:"handleBotTypingStart",value:function(){(0,this.props.chatbotTyping)()}},{key:"handleBotTypingEnd",value:function(){(0,this.props.chatbotTypingStop)()}},{key:"handleBotMessage",value:function(e){(0,this.props.addChatMessage)(e,{persist:!0})}},{key:"handleUserAnswerSubject",value:function(e){var t=this.props,n=t.emailRequired,o=t.labels,r=t.updateChatData,a=t.user,i=t.fetchAvailableAgents,l=a.email,u=a.name,s=a.identified;return r({subject:e}),l&&s?this.handleUserAnswerEmail(l,u):n?this.sendBotMessageAndUpdateChatState(o.chatbotPromptEmail,g.CHAT_STATES.BOT_PROMPT_EMAIL):i().then(this.handleAvailableAgentsSuccess).catch(this.handleAvailableAgentsFailure)}},{key:"handleUserAnswerEmail",value:function(e,t){var n=this.props,o=n.updateUser,r=n.fetchAvailableAgents;return o({email:(0,v.findEmailInString)(e)||e,name:t}),r().then(this.handleAvailableAgentsSuccess).catch(this.handleAvailableAgentsFailure)}},{key:"handleUserInactivity",value:function(){var e=this.props.labels;this.sendBotMessageAndUpdateChatState(e.chatbotInactivityPrompt)}},{key:"greet",value:function(){var e=this.props.labels;return this.sendBotMessageAndUpdateChatState(e.chatbotGreet,g.CHAT_STATES.BOT_PROMPT_SUBJECT)}},{key:"sendBotMessageAndUpdateChatState",value:function(e,t){var n=this.props.updateChatData;return this.chatBot.say(e,{typing:!0}).then(function(){return t&&n({state:t})})}},{key:"render",value:function(){return s.default.createElement(e,this.props)}}]),n}(u.Component)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(61),f=n(11),d=n(48),p=n(63),m=n(102),h=n(85),b=n(7),g=n(40),y=n(39),v=n(315),_=function(e){var t=e.chat,n=e.user;return{availableAgents:t.availableAgents,emailRequired:(0,b.isEmailRequired)(e),labels:(0,b.getLabels)(e),state:t.state,subject:t.subject,user:n}},O={addChatMessage:d.addChatMessage,chatbotTyping:d.chatbotTyping,chatbotTypingStop:d.chatbotTypingStop,createChatEnvelope:d.createChatEnvelope,fetchAvailableAgents:d.fetchAvailableAgents,fetchJWT:d.fetchJWT,getChatBot:d.getChatBot,resetChat:d.resetChat,syncCustomer:p.syncCustomer,updateChatAvailabilityInfo:m.updateChatAvailabilityInfo,updateChatData:d.updateChatData,updateMessage:m.updateMessage,updateUser:h.updateUser};t.default=(0,c.compose)((0,f.connect)(_,O),i)},752:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageChat=void 0;var y=r(n(0)),v=r(n(1)),_=r(n(3)),O=r(n(761)),C=r(n(762)),M=r(n(38)),E=r(n(148)),w=n(2),x=n(8),P=n(849),T=function(e){function t(){return u(this,t),n.apply(this,arguments)}f(t,e);var n=p(t);return c(t,[{key:"render",value:function(){var e=this.props,t=e.body,n=e.bubbleClassName,o=e.caption,r=e.captionSize,l=e.metaPosition,u=e.children,s=e.className,c=e.error,f=e.errorMessage,d=e.read,p=e.from,m=e.icon,h=e.isLoading,b=e.isNote,g=e.ltr,v=e.rtl,x=e.size,T=e.timestamp,j=e.title,S=e.to,k=e.typing,I=i(e,["body","bubbleClassName","caption","captionSize","metaPosition","children","className","error","errorMessage","read","from","icon","isLoading","isNote","ltr","rtl","size","timestamp","title","to","typing"]),N=this.context.theme,A="embed"===N,B=(0,w.classNames)("c-MessageChat",p&&"is-from",S&&"is-to",s),U={body:t,children:u,from:p,icon:m,ltr:g,rtl:v,timestamp:T,to:S},R=o?y.default.createElement(C.default,{className:"c-MessageChat__caption",size:r},o):null,L=h?y.default.createElement(M.default.Item,{className:"c-MessageChat__metaState"},y.default.createElement(E.default,{className:"c-MessageChat__loadingSpinner",size:"xs"})):null,D=c?y.default.createElement("div",{className:"c-MessageChat__error"},y.default.createElement(C.default,{className:"c-MessageChat__errorMessage"},"string"===typeof c?c:f)):null,W=y.default.createElement(M.default,{className:"c-MessageChat__meta",gap:"xs"},L,y.default.createElement(M.default.Block,{className:"c-MessageChat__metaBlock"},R,D));return y.default.createElement(P.ChatBlockUI,a({},(0,_.default)(I),{className:B,meta:W,metaPosition:l,read:d,isEmbed:A},U),y.default.createElement(O.default,a({},U,{className:n,isNote:b,size:x,title:j,typing:k})))}}]),t}(y.default.PureComponent);t.MessageChat=T,T.contextTypes={theme:x.noop},T.defaultProps={"data-cy":"MessageChat",error:!1,errorMessage:"Couldn't send.",isLoading:!1,metaPosition:"bottom"},T.propTypes={body:v.default.string,bubbleClassName:v.default.string,caption:v.default.string,captionSize:v.default.string,className:v.default.string,from:v.default.any,isNote:v.default.bool,ltr:v.default.bool,read:v.default.bool,rtl:v.default.bool,size:v.default.oneOf(["md","sm",""]),timestamp:v.default.string,title:v.default.string,to:v.default.any,typing:v.default.bool,error:v.default.oneOfType([v.default.bool,v.default.string]),errorMessage:v.default.string,icon:v.default.string,isLoading:v.default.bool,metaPosition:v.default.oneOf(["top","bottom"]),onBubbleClick:v.default.func,onClick:v.default.func,primary:v.default.bool,type:v.default.oneOf(["action","message",""]),"data-cy":v.default.string};var j=T;t.default=j},761:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageBubble=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=n(8),f=n(844),d=o(n(845)),p=o(n(846)),m=o(n(21)),h=o(n(37)),b=n(2),g=n(59),y=n(803),v=(0,d.default)(g.newlineToHTML,g.convertLinksToHTML),_=function(e,t){var n=e.body,o=e.children,i=e.className,u=e.from,c=e.icon,d=e.isNote,_=e.ltr,O=e.rtl,C=e.size,M=(e.timestamp,e.title),E=e.to,w=e.typing,x=a(e,["body","children","className","from","icon","isNote","ltr","rtl","size","timestamp","title","to","typing"]),P=t.theme,T="notifications"===P,j="embed"===P,S=u&&"string"===typeof u?u:null,k=!1,I=T&&S?l.default.createElement(y.MessageBubbleFromUI,{className:"c-MessageBubble__from",isEmbed:j},l.default.createElement(h.default,{className:"c-MessageBubble__fromText",lineHeightReset:!0,size:"11"},S)):null,N=c?l.default.createElement(y.MessageBubbleIconWrapperUI,{className:"c-MessageBubble__iconWrapper"},l.default.createElement(m.default,{className:"c-MessageBubble__icon",name:c,size:"20",shade:"extraMuted"})):null,A=M?l.default.createElement(y.MessageBubbleTitleUI,{className:"c-MessageBubble__title",size:"small"},M):null,B=1===l.default.Children.count(o),U=l.default.Children.map(o,function(e){k=!j&&B&&(0,g.textIncludesOnlyEmoji)(e);var t=j?"13":k?48:"14";return(0,g.isWord)(e)||(0,f.isNativeSpanType)(e)?l.default.createElement(y.MessageBubbleBodyUI,{className:"c-MessageBubble__body",isEmbed:j,showEmojiOnlyStyles:k},l.default.createElement(h.default,{wordWrap:!0,lineHeightInherit:!0,size:t},e)):e}),R=w?l.default.createElement(y.MessageBubbleTypingUI,{className:"c-MessageBubble__typing"},l.default.createElement(p.default,null)):function(){return n?(k=!j&&(0,g.textIncludesOnlyEmoji)(n),k?l.default.createElement(y.MessageBubbleBodyUI,{className:"c-MessageBubble__body",showEmojiOnlyStyles:k},l.default.createElement(h.default,{wordWrap:!0,lineHeightInherit:!0,size:48},n)):l.default.createElement(y.MessageBubbleBodyUI,{className:"c-MessageBubble__body",isEmbed:j,dangerouslySetInnerHTML:{__html:v(n)}})):U}(),L=l.default.createElement("div",{className:"c-MessageBubble__content"},N,l.default.createElement("div",{className:"c-MessageBubble__bodyWrapper"},R)),D=(0,b.classNames)("c-MessageBubble",u&&"is-from",c&&"withIcon",d&&"is-note",C&&"is-".concat(C),_&&!O&&"is-ltr",!_&&O&&"is-rtl",P&&"is-theme-".concat(P),E&&"is-to",w&&"is-typing",k&&"emoji-only",i);return l.default.createElement(y.MessageBubbleUI,r({},(0,s.default)(x),{className:D,isEmbed:j,showEmojiOnlyStyles:k}),I,A,L)};t.MessageBubble=_,_.defaultProps={"data-cy":"MessageBubble"},_.contextTypes={theme:c.noop},_.propTypes={body:u.default.string,className:u.default.string,from:u.default.any,isNote:u.default.bool,ltr:u.default.bool,primary:u.default.bool,read:u.default.bool,rtl:u.default.bool,size:u.default.oneOf(["md","sm",""]),timestamp:u.default.string,title:u.default.string,to:u.default.any,typing:u.default.bool,onClick:u.default.func,icon:u.default.string,"data-cy":u.default.string};var O=_;t.default=O},762:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=o(n(37)),f=n(2),d=n(8),p=function(e,t){var n=e.className,o=e.children,i=e.size,u=e.wordWrap,d=a(e,["className","children","size","wordWrap"]),p=t.theme,m="embed"===p,h=(0,f.classNames)("c-MessageCaption",p&&"is-theme-".concat(p),n),b=i||(m?"11":"13");return l.default.createElement("div",r({},(0,s.default)(d),{className:h}),l.default.createElement(c.default,{className:"c-MessageCaption__text",size:b,shade:"faint",wordWrap:u},o))};p.contextTypes={theme:d.noop},p.defaultProps={"data-cy":"MessageCaption",wordWrap:!0},p.propTypes={className:u.default.string,"data-cy":u.default.string,size:u.default.string,wordWrap:u.default.bool};var m=p;t.default=m},768:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noteBoxShadowWithHover=t.noteBoxShadowHover=t.noteBoxShadow=void 0;var o=n(5),r=function(){return"\n  box-shadow:\n    0px 1px 3px 0px rgba(0, 0, 0, 0),\n    inset 0px 0px 0px 1px ".concat((0,o.getColor)("yellow.400"),";\n")};t.noteBoxShadow=r;var a=function(){return"\n  box-shadow:\n    0 3px 12px 0 rgba(0, 0, 0, 0.1),\n    inset 0px 0px 0px 1px ".concat((0,o.getColor)("yellow.400"),";\n")};t.noteBoxShadowHover=a;var i=function(){return"\n  ".concat(r(),"\n  &:hover {\n    ").concat(a(),"\n  }\n")};t.noteBoxShadowWithHover=i},801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(839)),r=o.default;t.default=r},802:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=t.MessageUI=void 0;var r=o(n(4)),a=n(2),i=o(n(37)),l=(0,a.BEM)(".c-Message"),u=r.default.div.withConfig({displayName:"Messagecss__MessageUI",componentId:"sc-1wplbjf-0"})(["margin-bottom:20px;min-width:320px;","{padding-bottom:1px;padding-top:1px;width:28px;}","{margin-bottom:7px;margin-left:14px;}.c-MessageChatBlock:only-child .c-MessageBubble.emoji-only{padding-top:0 !important;padding-bottom:0 !important;}.c-MessageChatBlock:first-child .c-MessageBubble.emoji-only{padding-top:0 !important;}.c-MessageChatBlock:last-child .c-MessageBubble.emoji-only{padding-bottom:0 !important;}&.is-to{text-align:right;","{align-self:flex-end;display:flex;}","{padding-bottom:1px;padding-right:1px;}}&.is-from{text-align:left;","{padding-left:1px;padding-top:1px;}}&.has-avatar{","{padding-left:18px;}}&.is-theme-embed{min-width:initial;","{margin-top:8px;}}&.is-theme-notifications{margin-bottom:0;min-width:initial;}"],l.element("avatar-block"),l.element("from"),l.element("avatar-block"),l.element("block"),l.element("block"),l.element("from"),l.element("avatar-block"));t.MessageUI=u;var s=(0,r.default)(i.default).withConfig({displayName:"Messagecss__TextUI",componentId:"sc-1wplbjf-1"})(["&.has-noUrl{opacity:0.4;}"]);t.TextUI=s},803:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBubbleUI=t.MessageBubbleTypingUI=t.MessageBubbleTitleUI=t.MessageBubbleIconWrapperUI=t.MessageBubbleFromUI=t.MessageBubbleBodyUI=t.config=void 0;var r=o(n(4)),a=n(5),i=n(2),l=o(n(76)),u=(0,i.BEM)(".c-MessageBubble"),s={borderRadius:{sm:4,md:12},icon:{left:14,offset:{md:20,sm:32}},maxWidth:700,padding:{notification:"18px 20px",embed:"12px 15px",md:"13px 20px 13px",fromMd:"13px 20px 14px",sm:"5px"}};t.config=s;var c=(0,r.default)("span").withConfig({displayName:"MessageBubblecss__MessageBubbleBodyUI",componentId:"l2urzn-0"})(["color:",";line-height:24px;word-break:break-word;"," ",""],(0,a.getColor)("charcoal.700"),function(e){return e.showEmojiOnlyStyles&&"line-height: 1"},function(e){return e.isEmbed&&"\n      color: ".concat((0,a.getColor)("charcoal.500"),";\n      line-height: 19px;\n      line-height: calc(19 / 13);\n    ")});t.MessageBubbleBodyUI=c;var f=(0,r.default)("div").withConfig({displayName:"MessageBubblecss__MessageBubbleFromUI",componentId:"l2urzn-1"})(["color:",";margin-bottom:5px;text-align:right;",""],(0,a.getColor)("charcoal.700"),function(e){return e.isEmbed&&"color: ".concat((0,a.getColor)("grey.800"),";")});t.MessageBubbleFromUI=f;var d=(0,r.default)("div").withConfig({displayName:"MessageBubblecss__MessageBubbleIconWrapperUI",componentId:"l2urzn-2"})(["left:","px;position:absolute;"],s.icon.left);t.MessageBubbleIconWrapperUI=d;var p=(0,r.default)(l.default).withConfig({displayName:"MessageBubblecss__MessageBubbleTitleUI",componentId:"l2urzn-3"})(["margin-bottom:2px;"]);t.MessageBubbleTitleUI=p;var m=(0,r.default)("div").withConfig({displayName:"MessageBubblecss__MessageBubbleTypingUI",componentId:"l2urzn-4"})(["margin-left:-5px;margin-right:-5px;padding:7px 0;"]);t.MessageBubbleTypingUI=m;var h=(0,r.default)("div").withConfig({displayName:"MessageBubblecss__MessageBubbleUI",componentId:"l2urzn-5"})(["background-color:",";border-top-left-radius:","px;border-top-right-radius:","px;border-bottom-right-radius:","px;border-bottom-left-radius:","px;display:inline-block;padding:",";position:relative;max-width:","px;text-align:left;word-break:break-word;&.is-from{background-color:",";border-top-left-radius:","px;border-top-right-radius:","px;border-bottom-right-radius:","px;border-bottom-left-radius:","px;&.is-md{padding:",";}}&.is-rtl{direction:rtl;text-align:right;}&.is-md{padding:",";}&.is-sm{padding:",";&.withIcon{","{margin-left:","px;}}}&.is-note:not(.is-typing){background-color:",";color:",";*{color:currentColor;}}&.is-typing{background:none;border:0;padding-top:7px;}&.is-theme-embed{background-color:",";border:1px solid ",";border-radius:8px 8px 3px 8px;max-width:100%;padding:",";&.is-from{background-color:white;border-color:",";border-radius:3px 8px 8px 3px;}","{margin-left:0;margin-right:0;}&.withIcon{","{margin-left:","px;padding-left:4px;}}&.is-note{border-color:",";}}&.is-theme-notifications{padding:",";}",""],(0,a.getColor)("lavender.200"),s.borderRadius.md,s.borderRadius.md,s.borderRadius.sm,s.borderRadius.md,s.padding.md,s.maxWidth,(0,a.getColor)("lavender.100"),s.borderRadius.sm,s.borderRadius.md,s.borderRadius.md,s.borderRadius.sm,s.padding.fromMd,s.padding.md,s.padding.sm,u.element("content"),s.icon.offset.sm,(0,a.getColor)("yellow.200"),(0,a.getColor)("yellow.900"),(0,a.getColor)("grey.400"),(0,a.getColor)("grey.400"),s.padding.embed,(0,a.getColor)("grey.500"),u.element("typing"),u.element("content"),s.icon.offset.md,(0,a.getColor)("yellow.400"),s.padding.notification,function(e){return e.showEmojiOnlyStyles&&"\n      background: none !important;\n      border: none;\n      padding-left: 0;\n      padding-right:0;\n    "});t.MessageBubbleUI=h},804:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChatBlock=void 0;var v=r(n(0)),_=r(n(1)),O=r(n(3)),C=r(n(38)),M=r(n(761)),E=r(n(801)),w=n(2),x=n(8),P=n(850),T=function(e){function t(){var e;u(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),y(h(e),"getChildrenMarkup",function(){var t=e.props,n=t.children,o=t.icon,r=t.from,a=t.ltr,i=t.rtl,l=t.timestamp,u=t.to;return v.default.Children.map(n,function(e){return e&&e.type===M.default?v.default.cloneElement(e,{icon:o,from:r,ltr:a,rtl:i,timestamp:l,to:u}):e})}),y(h(e),"getTimestampMarkup",function(){var t=e.props,n=t.read,o=t.timestamp;return o&&v.default.createElement(C.default.Item,{className:"c-MessageChatBlock__timestamp"},v.default.createElement(E.default,{timestamp:o,read:n}))}),e}f(t,e);var n=p(t);return c(t,[{key:"render",value:function(){var e=this.props,t=(e.body,e.children,e.className),n=e.from,o=(e.icon,e.isNote,e.ltr,e.meta),r=e.metaPosition,l=(e.read,e.rtl,e.timestamp,e.to),u=i(e,["body","children","className","from","icon","isNote","ltr","meta","metaPosition","read","rtl","timestamp","to"]),s=this.context.theme,c=(0,w.classNames)("c-MessageChatBlock",n&&"is-from",l&&"is-to",s&&"is-theme-".concat(s),t),f=this.getChildrenMarkup(),d=this.getTimestampMarkup();return v.default.createElement(P.ChatBlockUI,a({},(0,O.default)(u),{className:c}),"bottom"!==r&&o,v.default.createElement(C.default,{className:"c-MessageChatBlock__flexy",gap:"sm"},l&&d,v.default.createElement(C.default.Item,{className:"c-MessageChatBlock__block"},f),n&&d),"bottom"===r&&o)}}]),t}(v.default.PureComponent);t.ChatBlock=T,T.contextTypes={theme:x.noop},T.defaultProps={metaPosition:"bottom"},T.propTypes={body:_.default.string,className:_.default.string,icon:_.default.string,meta:_.default.any,metaPosition:_.default.string,read:_.default.bool,timestamp:_.default.string,from:_.default.any,isNote:_.default.bool,ltr:_.default.bool,onClick:_.default.func,rtl:_.default.bool,to:_.default.any};var j=T;t.default=j},805:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=p();return function(){var n,o=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=r(n(0)),b=r(n(1)),g=r(n(857)),y=n(8),v=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=c(t);return l(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"c-MessageProvider"},this.props.children)}}]),t}(g.default);v.defaultProps={theme:"admin"},v.childContextTypes={theme:y.noop},v.propTypes={theme:b.default.any};var _=v;t.default=_},808:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MessageProvider",{enumerable:!0,get:function(){return a.default}}),t.default=void 0;var r=o(n(836)),a=o(n(805)),i=r.default;t.default=i},809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r={isNote:!1},a=o.default.createContext(r);t.default=a},810:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,r=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=g();return function(){var n,o=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageMedia=void 0;var _=a(n(0)),O=a(n(1)),C=a(n(99)),M=a(n(148)),E=a(n(83)),w=a(n(762)),x=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(a,l,u):a[l]=e[l]}return a.default=e,n&&n.set(e,a),a}(n(2)),P=n(12),T=n(8),j=n(855),S=function(e){function t(){var e;s(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),v(b(e),"getCaption",function(){var t=e.props,n=t.caption,o=t.error,r=t.errorMessage,a=n;return o&&(a=(0,P.isString)(o)?o:r),a}),v(b(e),"getSpinnerMarkup",function(){return e.props.isUploading&&_.default.createElement(M.default,{className:"c-MessageMedia__loadingSpinner",size:"xs"})}),v(b(e),"getCaptionMarkup",function(){var t=e.getCaption(),n=e.getSpinnerMarkup(),o=e.getTryAgainMarkup();return(t||n||o)&&_.default.createElement("div",{className:"c-MessageMedia__caption"},_.default.createElement(w.default,{size:"11"},n,t,o))}),v(b(e),"getMediaMarkup",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.src,o=t.maxHeight,r=t.maxWidth,a=e.props,i=a.height,l=a.onMediaClick,u=a.onMediaLoad,s=a.imageAlt,c=a.imageUrl,f=a.width,d=n||c;return d?_.default.createElement("div",{className:"c-MessageMedia__media"},_.default.createElement(j.ImageUI,{alt:s,block:!0,className:"c-MessageMedia__mediaImage",height:i,onClick:l,onLoad:u,maxHeight:o,maxWidth:r,src:d,title:s,shape:"rounded",width:f})):null}),v(b(e),"getTryAgainMarkup",function(){var t=e.props,n=t.error,o=t.showErrorTryAgainLink,r=t.tryAgainLabel;return n&&o?_.default.createElement("span",{className:"c-MessageMedia__tryAgainActionWrapper"}," ",_.default.createElement(C.default,{className:"c-MessageMedia__tryAgainAction",onClick:e.handleOnTryAgainClick},r)):null}),v(b(e),"handleOnTryAgainClick",function(t){t.preventDefault(),t.stopPropagation(),e.props.onErrorTryAgainClick(t)}),e}d(t,e);var n=m(t);return f(t,[{key:"render",value:function(){var e=this.props,t=(e.body,e.children,e.className),n=(e.caption,e.errorMessage,e.error),o=(e.height,e.imageUrl),r=(e.imageAlt,e.isUploading,e.maxHeight),a=e.maxWidth,u=e.modalAnimationDuration,s=e.modalAnimationEasing,c=e.modalAnimationSequence,f=e.modalCardClassName,d=e.modalClassName,p=e.modalWrapperClassName,m=e.overlayAnimationDuration,h=(e.onErrorTryAgainClick,e.onMediaClick,e.onMediaLoad,e.openMediaInModal),b=(e.showErrorTryAgainLink,e.thumbnailImageUrl),g=(e.tryAgainLabel,e.width,l(e,["body","children","className","caption","errorMessage","error","height","imageUrl","imageAlt","isUploading","maxHeight","maxWidth","modalAnimationDuration","modalAnimationEasing","modalAnimationSequence","modalCardClassName","modalClassName","modalWrapperClassName","overlayAnimationDuration","onErrorTryAgainClick","onMediaClick","onMediaLoad","openMediaInModal","showErrorTryAgainLink","thumbnailImageUrl","tryAgainLabel","width"])),y=this.context.theme,v="embed"===y,O=!v&&h,C=(0,x.default)("c-MessageMedia",n&&"is-error",t),M=(0,x.BEM)(C),w=this.getCaptionMarkup(),P=this.getMediaMarkup({src:b||o,maxWidth:a,maxHeight:r}),T=this.getMediaMarkup({maxWidth:980,maxHeight:820}),S=o?O?_.default.createElement("div",{className:"c-MessageMedia__mediaContainer"},_.default.createElement(E.default,{modalAnimationDuration:u,modalAnimationEasing:s,modalAnimationSequence:c,overlayAnimationDuration:m,trigger:P,className:(0,x.default)("c-MessageMedia__modal",d,M.element("modal")),cardClassName:(0,x.default)("c-MessageMedia__modalCard",f,M.element("modalCard")),wrapperClassName:(0,x.default)("c-MessageMedia__modalWrapper",p,M.element("modalWrapper"))},_.default.createElement(E.default.Body,{scrollFade:!1,isSeamless:!0},_.default.createElement(E.default.Content,null,T)))):_.default.createElement("div",{className:"c-MessageMedia__mediaContainer"},P):null,k=_.default.createElement("div",{className:"c-MessageMedia__mediaContent"},S,w);return _.default.createElement(j.MediaUI,i({},g,{bubbleClassName:"c-MessageMedia__bubble",className:C,size:"sm"}),k)}}]),t}(_.default.Component);t.MessageMedia=S,S.defaultProps={className:"","data-cy":"MessageMedia",errorMessage:"Couldn't send.",onErrorTryAgainClick:T.noop,onMediaClick:T.noop,onMediaLoad:T.noop,openMediaInModal:!0,maxHeight:250,maxWidth:350,modalAnimationDuration:250,modalAnimationEasing:"ease",overlayAnimationDuration:250,modalAnimationSequence:"fade up",showErrorTryAgainLink:!0,tryAgainLabel:"Try again",isUploading:!1},S.contextTypes={theme:T.noop},S.propTypes={caption:O.default.string,className:O.default.string,error:O.default.oneOfType([O.default.bool,O.default.string]),errorMessage:O.default.string,from:O.default.any,height:O.default.number,imageAlt:O.default.string,imageUrl:O.default.string,isUploading:O.default.bool,ltr:O.default.bool,maxHeight:O.default.number,maxWidth:O.default.number,modalAnimationDuration:O.default.number,modalAnimationEasing:O.default.string,modalAnimationSequence:O.default.string,modalCardClassName:O.default.string,modalClassName:O.default.string,modalWrapperClassName:O.default.string,onErrorTryAgainClick:O.default.func,onMediaClick:O.default.func,onMediaLoad:O.default.func,openMediaInModal:O.default.bool,overlayAnimationDuration:O.default.number,read:O.default.bool,rtl:O.default.bool,showErrorTryAgainLink:O.default.bool,thumbnailImageUrl:O.default.string,timestamp:O.default.string,to:O.default.any,tryAgainLabel:O.default.string,width:O.default.number,primary:O.default.bool,icon:O.default.string,isNote:O.default.bool,onClick:O.default.func,size:O.default.oneOf(["md","sm",""]),title:O.default.string,typing:O.default.bool,body:O.default.string,"data-cy":O.default.string};var k=S;t.default=k},836:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Message=void 0;var v=r(n(0)),_=r(n(1)),O=r(n(3)),C=r(n(38)),M=r(n(37)),E=r(n(837)),w=r(n(843)),x=r(n(761)),P=r(n(762)),T=r(n(752)),j=r(n(851)),S=r(n(853)),k=r(n(810)),I=r(n(805)),N=n(2),A=n(154),B=n(12),U=n(8),R=n(802),L=function(e){function t(){var e;u(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),y(h(e),"shouldShowAvatar",function(){var t=e.props,n=t.from,o=t.showAvatar;return!e.childrenIncludeActionTypeComponent()&&(e.isThemeEmbed()?n&&o||!1:!!o)}),y(h(e),"childrenIncludeActionTypeComponent",function(){var t=e.props.children;return v.default.Children.toArray(t).some(function(e){return"MessageAction"===(0,A.getComponentName)(e)})}),y(h(e),"isThemeEmbed",function(){return"embed"===e.context.theme}),y(h(e),"getAvatarMarkup",function(){var t=e.props.avatar,n=e.isThemeEmbed();if(!e.shouldShowAvatar())return null;var o=t?v.default.cloneElement(t,{shape:"circle",size:n?"xxs":"xs"}):null;return v.default.createElement(C.default.Item,{className:"c-Message__avatar-block"},o)}),y(h(e),"getChildrenMarkup",function(){var t=e.props,n=t.children,o=t.from,r=t.ltr,a=t.rtl,i=t.to;return v.default.Children.map(n,function(e){return e?v.default.cloneElement(e,{from:o,ltr:r,rtl:a,to:i}):e})}),y(h(e),"getFromMarkup",function(){var t=e.props.from,n=(0,B.isString)(t)?t:null;return e.isThemeEmbed()&&n?v.default.createElement("div",{className:"c-Message__from"},v.default.createElement(M.default,{className:"c-Message__fromText",block:!0,lineHeightReset:!0,shade:"faint",size:"11"},n)):null}),e}f(t,e);var n=p(t);return c(t,[{key:"render",value:function(){var e=this.props,t=e.avatar,n=(e.children,e.className),o=(e.isNote,e.ltr,e.rtl,e.from),r=(e.showAvatar,e.to),l=i(e,["avatar","children","className","isNote","ltr","rtl","from","showAvatar","to"]),u=this.context.theme,s=(0,N.classNames)("c-Message",t&&"has-avatar",o&&"is-from",u&&"is-theme-".concat(u),r&&"is-to",n),c=this.getAvatarMarkup(),f=this.getChildrenMarkup(),d=this.getFromMarkup();return v.default.createElement(R.MessageUI,a({},(0,O.default)(l),{className:s}),d,v.default.createElement(C.default,{align:"top",gap:"xs"},o&&c,v.default.createElement(C.default.Block,{className:"c-Message__block"},f),r&&c))}}]),t}(v.default.PureComponent);t.Message=L,y(L,"contextTypes",{theme:U.noop}),y(L,"Action",E.default),y(L,"Attachment",w.default),y(L,"Bubble",x.default),y(L,"Caption",P.default),y(L,"Chat",T.default),y(L,"Content",j.default),y(L,"Embed",S.default),y(L,"Media",k.default),y(L,"Provider",I.default),L.defaultProps={"data-cy":"Message",showAvatar:!0},L.propTypes={avatar:_.default.any,className:_.default.string,from:_.default.oneOfType([_.default.string,_.default.bool]),isNote:_.default.bool,ltr:_.default.bool,rtl:_.default.bool,showAvatar:_.default.bool,to:_.default.bool,"data-cy":_.default.string};var D=L;t.default=D},837:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageAction=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=o(n(37)),f=n(2),d=n(8),p=n(838),m=function(e,t){var n=e.children,o=e.className,i=(e.from,e.ltr,e.read),u=(e.rtl,e.timestamp),d=(e.to,a(e,["children","className","from","ltr","read","rtl","timestamp","to"])),m=t.theme,h=(0,f.classNames)("c-MessageAction",m&&"is-theme-".concat(m),o),b="embed"===m,g=b?"12":"14",y=b?"faint":"default";return l.default.createElement(p.ActionUI,r({},(0,s.default)(d),{className:h,just:"center",isThemeEmbed:b}),function(){return l.default.createElement(c.default,{className:"c-MessageAction__text",shade:y,size:g},n)}(),function(){return b?null:u&&l.default.createElement(p.TimestampUI,{className:"c-MessageAction__timestamp",read:i,timestamp:u})}())};t.MessageAction=m,m.contextTypes={theme:d.noop},m.defaultProps={"data-cy":"MessageAction"},m.propTypes={className:u.default.string,from:u.default.bool,ltr:u.default.bool,read:u.default.bool,rtl:u.default.bool,showAvatar:u.default.bool,timestamp:u.default.string,to:u.default.bool,icon:u.default.string,"data-cy":u.default.string};var h=m;t.default=h},838:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampUI=t.ActionUI=void 0;var r=o(n(4)),a=n(5),i=o(n(801)),l=o(n(107)),u=(0,r.default)("div").withConfig({displayName:"MessageActioncss__ActionUI",componentId:"sc-1paqs98-0"})(["line-height:22px;text-align:center;margin:10px 0;"," a{","}"],function(e){return!e.isThemeEmbed&&"color: ".concat((0,a.getColor)("charcoal.700")," !important;")},(0,l.default)());t.ActionUI=u;var s=(0,r.default)(i.default).withConfig({displayName:"MessageActioncss__TimestampUI",componentId:"sc-1paqs98-1"})([".c-Flexy{justify-content:center !important;}"]);t.TimestampUI=s},839:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=r(n(0)),v=r(n(1)),_=r(n(3)),O=n(2),C=r(n(38)),M=r(n(21)),E=r(n(37)),w=r(n(840)),x=n(842),P=function(e){function t(){return u(this,t),n.apply(this,arguments)}f(t,e);var n=p(t);return c(t,[{key:"render",value:function(){var e=this.props,t=(e.children,e.className),n=e.formatter,o=e.live,r=e.muted,l=e.read,u=e.timestamp,s=i(e,["children","className","formatter","live","muted","read","timestamp"]),c=(0,O.classNames)("c-Timestamp",r&&"is-muted",t),f=l?y.default.createElement(M.default,{name:"tick-large",size:"12",faint:!0,title:"Read"}):null;return y.default.createElement(x.TimestampUI,a({},(0,_.default)(s),{className:c}),y.default.createElement(C.default,{gap:"xs",just:"left"},y.default.createElement(C.default.Item,null,y.default.createElement(E.default,{size:"12",faint:!0,disableSelect:!0,noWrap:!0},y.default.createElement(w.default,{formatter:n,live:o,timestamp:"".concat(u)}))),y.default.createElement(C.default.Item,null,f)))}}]),t}(y.default.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(P,"Time",w.default),P.defaultProps={"data-cy":"Timestamp",live:!1,read:!1,timestamp:"9:41am"},P.propTypes={children:v.default.any,className:v.default.string,formatter:v.default.func,live:v.default.bool,read:v.default.bool,timestamp:v.default.oneOfType([v.default.string,v.default.number]),muted:v.default.bool};var T=P;t.default=T},840:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var v=r(n(0)),_=r(n(1)),O=r(n(3)),C=n(841),M=function(e){function t(){var e;u(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),y(h(e),"timeoutId",void 0),y(h(e),"_isMounted",!1),e}f(t,e);var n=p(t);return c(t,[{key:"componentDidMount",value:function(){var e=this.props.live;this._isMounted=!0,e&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){var t=e.live,n=e.timestamp,o=this.props,r=o.live,a=o.timestamp;r===t&&a===n||(!r&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.tick())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"tick",value:function(e){var t=this.props,n=t.live,o=t.timestamp;if(this._isMounted&&n){var r=(0,C.calculateTimeoutPeriod)(o);r>0&&(this.timeoutId=setTimeout(this.tick.bind(this),r)),e||this.forceUpdate()}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.formatter,o=e.timestamp,r=i(e,["className","formatter","timestamp"]);return v.default.createElement("time",a({},(0,O.default)(r),{className:t,dateTime:o}),n(o))}}]),t}(v.default.Component);M.defaultProps={"data-cy":"Time",formatter:function(e){return e},live:!1},M.propTypes={"data-cy":_.default.string,className:_.default.string,formatter:_.default.func,live:_.default.bool,timestamp:_.default.string};var E=M;t.default=E},841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTimeoutPeriod=void 0;var o=function(e){var t=Math.round(Math.abs(Date.now()-new Date(e).valueOf())/1e3);return t<60?1e3:t<3600?15e3:t<86400?36e5:0};t.calculateTimeoutPeriod=o},842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampUI=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),r=o.default.div.withConfig({displayName:"Timestampcss__TimestampUI",componentId:"vbf4av-0"})(["&.is-muted{opacity:0.6;}"]);t.TimestampUI=r},843:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageAttachment=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=o(n(99)),f=o(n(37)),d=n(2),p=n(8),m=n(802),h=o(n(752)),b=function(e,t){var n=(e.body,e.children,e.className),o=e.download,i=e.filename,u=e.isUploading,p=e.onClick,b=e.openDownloadInNewTab,g=e.size,y=e.uploadingMessage,v=e.url,_=a(e,["body","children","className","download","filename","isUploading","onClick","openDownloadInNewTab","size","uploadingMessage","url"]),O=t.theme,C=(0,d.classNames)("c-MessageAttachment",!v&&"has-noUrl",O&&"is-theme-".concat(O),n),M=(0,d.classNames)("c-MessageAttachment__text",!v&&"has-noUrl"),E=o&&i?"Download ".concat(i):null,w=v?l.default.createElement(c.default,{className:"c-MessageAttachment__link",download:o,href:v,onClick:p,target:b?"_blank":null,title:E},l.default.createElement(f.default,{truncate:!0,className:"c-MessageAttachment__linkText"},i)):l.default.createElement(m.TextUI,{className:M,truncate:!0},i);return l.default.createElement(h.default,r({},(0,s.default)(_),{bubbleClassName:"c-MessageMedia__bubble",caption:u?y:null,className:C,icon:"attachment",isLoading:u,size:g}),w)};t.MessageAttachment=b,b.defaultProps={"data-cy":"MessageAttachment",download:!0,onClick:p.noop,openDownloadInNewTab:!0,isUploading:!1,size:"md",uploadingMessage:"Uploading…"},b.contextTypes={theme:p.noop},b.propTypes={body:u.default.string,className:u.default.string,download:u.default.oneOfType([u.default.bool,u.default.string]),error:u.default.oneOfType([u.default.bool,u.default.string]),errorMessage:u.default.string,filename:u.default.string,from:u.default.any,isUploading:u.default.bool,ltr:u.default.bool,onClick:u.default.func,openDownloadInNewTab:u.default.bool,read:u.default.bool,rtl:u.default.bool,timestamp:u.default.string,to:u.default.any,uploadingMessage:u.default.string,url:u.default.string,isNote:u.default.bool,primary:u.default.bool,size:u.default.oneOf(["md","sm",""]),title:u.default.string,typing:u.default.bool,type:u.default.oneOf(["action","message",""]),icon:u.default.string,"data-cy":u.default.string};var g=b;t.default=g},844:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.isNativeBlockType=t.isNativeSpanType=t.isComponentOneOfType=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(n(0)),i=o(n(84)),l=o(n(159)),u=n(108),s=function(e,t){return!(!(0,l.default)(e)||!Array.isArray(t)&&"string"!==typeof t)&&(a.isValidElement(e)&&e.type&&(0,u.isArray)(t)?t.some(function(t){return t===e.type}):(0,i.default)(e,"type")===t)};t.isComponentOneOfType=s;var c=function(e){return s(e,["a","b","bold","em","i","span","strong","u"])};t.isNativeSpanType=c;var f=function(e){return s(e,["h1","h2","h3","h4","h5","h6","p","blockquote","header","main","section","aside","figure","div"])};t.isNativeBlockType=f},845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})},r=o;t.default=r},846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(847)),r=o.default;t.default=r},847:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y=r(n(0)),v=r(n(1)),_=r(n(3)),O=n(2),C=n(848),M=function(e){function t(){return u(this,t),n.apply(this,arguments)}f(t,e);var n=p(t);return c(t,[{key:"getClassName",value:function(){var e=this.props.className;return(0,O.classNames)(t.className,e)}},{key:"render",value:function(){var e=this.props,t=(e.className,i(e,["className"]));return y.default.createElement(C.TypingDotsUI,a({},(0,_.default)(t),{className:this.getClassName()}),y.default.createElement(C.DotUI,{className:"Dot",delay:"0s",opacity:"1"}),y.default.createElement(C.DotUI,{className:"Dot",delay:"-1.1s",opacity:".6"}),y.default.createElement(C.DotUI,{className:"Dot",delay:"-0.9s",opacity:".2"}))}}]),t}(y.default.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(M,"className","c-TypingDots"),M.defaultProps={"data-cy":"TypingDots"},M.propTypes={className:v.default.string,"data-cy":v.default.string};var E=M;t.default=E},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotUI=t.TypingDotsUI=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),r=n(5),a={gap:3,size:5},i=(0,o.default)("div").withConfig({displayName:"TypingDotscss__TypingDotsUI",componentId:"s1ammo-0"})(["align-items:flex-end;color:",";display:flex;width:","px;"],(0,r.getColor)("grey.800"),3*a.size+2*a.gap);t.TypingDotsUI=i;var l=(0,o.default)("div").withConfig({displayName:"TypingDotscss__DotUI",componentId:"s1ammo-1"})(["animation:bounceAnimation 1.3s linear infinite;animation-delay:",";background-color:currentColor;border-radius:50%;height:","px;margin-right:","px;opacity:",";width:","px;@keyframes bounceAnimation{0%,60%,100%{transform:initial;}30%{transform:translateY(-10px);}}&:last-child{margin-right:0;}"],function(e){return e.delay},a.size,a.gap,function(e){return e.opacity},a.size);t.DotUI=l},849:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChatBlockUI=void 0;var r=o(n(4)),a=n(803),i=o(n(804)),l=n(2),u=(0,l.BEM)(".c-MessageChat"),s=(0,r.default)(i.default).withConfig({displayName:"MessageChatcss__ChatBlockUI",componentId:"sc-1qab6lr-0"})(["display:block;margin:0 0 2px;&:last-child{margin-bottom:0;}& ~ ","{","{border-top-right-radius:","px;}}&.is-from{& ~ ","{","{border-top-right-radius:","px;}}&:last-child{","{border-top-right-radius:","px;border-bottom-left-radius:","px;}}}"],u.block,".c-MessageBubble",a.config.borderRadius.sm,u.block,".c-MessageBubble",a.config.borderRadius.md,".c-MessageBubble",a.config.borderRadius.md,a.config.borderRadius.md);t.ChatBlockUI=s},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatBlockUI=t.config=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),r=n(2),a=(0,r.BEM)(".c-MessageChatBlock"),i={timestampSize:60,transition:"opacity 100ms linear"};t.config=i;var l=o.default.div.withConfig({displayName:"MessageChatBlockcss__ChatBlockUI",componentId:"sc-1pgeogx-0"})(["display:block;margin:0 0 2px;&:last-child{margin-bottom:0;}","{min-width:","px;opacity:0;transition:",";will-change:opacity;}&:hover{","{opacity:1;}}","{max-width:calc(100% - ","px);}&.is-from{","{justify-content:flex-start;}}&.is-to{","{justify-content:flex-end;}}&.is-theme-embed{","{max-width:100%;}}&.is-theme-notifications{margin-bottom:3px;&:last-child{margin-bottom:3px;}","{justify-content:flex-end;}","{max-width:100%;}}"],a.element("timestamp"),i.timestampSize,i.transition,a.element("timestamp"),a.element("block"),i.timestampSize,a.element("flexy"),a.element("flexy"),a.element("block"),a.element("flexy"),a.element("block"));t.ChatBlockUI=l},851:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,o,r=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=o(n(0)),u=o(n(1)),s=o(n(3)),c=o(n(809)),f=n(2),d=n(852),p=function(e){var t=e.children,n=e.className,o=e.from,i=e.isNote,u=e.ltr,p=e.read,m=e.rtl,h=e.timestamp,b=e.to,g=a(e,["children","className","from","isNote","ltr","read","rtl","timestamp","to"]),y=(0,f.classNames)("c-MessageContent",i&&"is-note",n),v=(0,f.classNames)("c-MessageContent__content",o&&"is-from",i&&"is-note",u&&!m&&"is-ltr",!u&&m&&"is-rtl",b&&"is-to"),_={from:o,ltr:u,read:p,rtl:m,timestamp:h,to:b},O={isNote:i};return l.default.createElement(d.ContentUI,r({},_,{className:y}),l.default.createElement(c.default.Provider,{value:O},l.default.createElement("div",r({},(0,s.default)(g),{className:v}),t)))};p.defaultProps={"data-cy":"MessageContent"},p.propTypes={className:u.default.string,from:u.default.any,isNote:u.default.bool,ltr:u.default.bool,read:u.default.bool,rtl:u.default.bool,timestamp:u.default.string,to:u.default.any,onClick:u.default.func,"data-cy":u.default.string};var m=p;t.default=m},852:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ContentUI=void 0;var r=o(n(4)),a=o(n(804)),i=n(2),l=(0,i.BEM)(".c-MessageContent"),u=(0,r.default)(a.default).withConfig({displayName:"MessageContentcss__ContentUI",componentId:"t0jsdd-0"})(["","{max-width:500px;text-align:left;&.is-rtl{direction:rtl;text-align:right;}}"],l.element("content"));t.ContentUI=u},853:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var v=r(n(0)),_=r(n(1)),O=r(n(3)),C=r(n(277)),M=n(2),E=n(854),w=function(e){function t(){var e;u(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),y(h(e),"state",{isLoading:!0}),y(h(e),"context",void 0),y(h(e),"node",void 0),y(h(e),"loadContent",function(){if(e.node){var t=e.node.getElementsByTagName("iframe");if(!t.length)return e.toggleLoading();t[0].onload=e.toggleLoading}}),y(h(e),"toggleLoading",function(){e.setState({isLoading:!e.state.isLoading})}),y(h(e),"setNodeRef",function(t){return e.node=t}),e}f(t,e);var n=p(t);return c(t,[{key:"componentDidMount",value:function(){this.loadContent()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.html,o=i(e,["className","html"]),r=this.state.isLoading,l=this.context.theme,u=(0,M.classNames)("c-MessageEmbed",r&&"is-loading",l&&"is-theme-".concat(l),t);return v.default.createElement(E.EmbedUI,a({},(0,O.default)(o),{bubbleClassName:"c-MessageEmbed__bubble",className:u}),v.default.createElement("div",{dangerouslySetInnerHTML:{__html:n||""},className:"c-MessageEmbed__html",ref:this.setNodeRef}),r&&v.default.createElement(C.default,{className:"c-MessageEmbed__loading"}))}}]),t}(v.default.Component);w.defaultProps={"data-cy":"MessageEmbed"},w.propTypes={className:_.default.string,from:_.default.any,html:_.default.string,isNote:_.default.bool,ltr:_.default.bool,read:_.default.bool,rtl:_.default.bool,timestamp:_.default.string,to:_.default.any,onClick:_.default.func,type:_.default.oneOf(["action","message",""])};var x=w;t.default=x},854:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedUI=void 0;var r=o(n(4)),a=n(5),i=n(768),l=o(n(752)),u={embedBorderRadius:"3px",embedWidth:"9999px",embedMaxWidth:"300px"},s=(0,r.default)(l.default).withConfig({displayName:"MessageEmbedcss__EmbedUI",componentId:"rxlatm-0"})([".c-MessageEmbed__html{border-radius:",";max-width:100%;overflow:hidden;width:",";}iframe{opacity:1;transition:opacity 0.5s ease-in;}&.is-loading iframe{opacity:0;}.c-MessageEmbed__bubble.c-MessageBubble{background-color:white;border:none;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.1),0px 0px 0px 1px rgba(193,203,212,0.7) inset,0px -1px 0px 0px "," inset;color:",";display:inline-block;max-width:",";overflow:hidden;padding:3px;width:100%;&.is-note{",";background-color:",";color:",";}}.c-MessageEmbed__loading.c-LoadingDots{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}"],u.embedBorderRadius,u.embedWidth,(0,a.getColor)("grey.600"),(0,a.getColor)("charcoal.200"),u.embedMaxWidth,(0,i.noteBoxShadow)(),(0,a.getColor)("yellow.200"),(0,a.getColor)("yellow.800"));t.EmbedUI=s},855:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaUI=t.ImageUI=void 0;var r=o(n(4)),a=o(n(285)),i=n(856),l=n(768),u=n(5),s=n(2),c=o(n(752)),f=(0,s.BEM)(".c-MessageMedia"),d="\n  max-width: 100%;\n  min-width: 100%;\n  object-fit: cover;\n",p=(0,r.default)(a.default).withConfig({displayName:"MessageMediacss__ImageUI",componentId:"sc-46ol35-0"})(["",";"],d);t.ImageUI=p;var m=(0,r.default)(c.default).withConfig({displayName:"MessageMediacss__MediaUI",componentId:"sc-46ol35-1"})(["","{padding:8px;}","{",";max-height:250px;opacity:1;transition:opacity 200ms linear;}","{background-color:white;border:none;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.1),0px 0px 0px 1px rgba(193,203,212,0.7) inset,0px -1px 0px 0px "," inset;color:",";display:inline-block;max-width:300px;padding:3px;.c-MessageCaption__text{color:currentColor;}&.is-note{",";background-color:",";color:",";}&.is-from{text-align:left;}&.is-to{text-align:right;}}","{padding-bottom:0;","{cursor:pointer;}}","{margin-right:4px;position:relative;top:1px;}&__modal.c-Modal{",";}&__modal{","{img{border-radius:0px;}}","{",";}","{padding:10px;}}&__modalCard{overflow:hidden;}&.is-error{","{box-shadow:0 0 0 1px "," inset;color:",";","{opacity:0.5;}}}","{color:currentColor;font-size:inherit;text-decoration:underline;}"],f.element("caption"),f.element("mediaImage"),d,f.element("bubble")+".c-MessageBubble",(0,u.getColor)("grey.600"),(0,u.getColor)("charcoal.200"),(0,l.noteBoxShadow)(),(0,u.getColor)("yellow.200"),(0,u.getColor)("yellow.800"),f.element("mediaContainer"),f.element("media"),f.element("loadingSpinner"),(0,i.breakpoint)("md","\n      padding: 20px;\n    "),f.element("media"),f.element("mediaImage"),d,f.element("caption"),f.element("bubble")+".c-MessageBubble",(0,u.getColor)("red.400"),(0,u.getColor)("red.500"),f.element("mediaImage"),f.element("tryAgainAction"));t.MediaUI=m},856:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md",t=arguments.length>1?arguments[1]:void 0;if(!(0,a.isString)(e)&&!(0,a.isNumber)(e))return"";var n=i.hasOwnProperty(e)?i[e]:(0,a.isNumber)(e)?"".concat(e,"px"):e,o=(0,a.isFunction)(t)?t():t;return"@media (min-width: ".concat(n,") {\n    ").concat(o,"\n  }")}function r(e){return"\n    ".concat(e,"\n\n    @media (min-width: ").concat(i.sm,") {\n      ").concat(e,"\n    }\n    @media (min-width: ").concat(i.md,") {\n      ").concat(e,"\n    }\n    @media (min-width: ").concat(i.lg,") {\n      ").concat(e,"\n    }\n  ")}Object.defineProperty(t,"__esModule",{value:!0}),t.breakpoint=o,t.breakpointAll=r,t.breakpoints=void 0;var a=n(12),i={xs:0,sm:"544px",md:"768px",lg:"992px"};t.breakpoints=i},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(858)),r=o.default;t.default=r},858:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=p();return function(){var n,o=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var b=r(n(0)),g=r(n(1)),y=n(8),v=function(e){function t(e,o){var r;return a(this,t),r=n.call(this,e,o),h(d(r),"getChildContext",function(){return{theme:r.state.theme}}),r.state={theme:e.theme},r}u(t,e);var n=c(t);return l(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.theme!==this.state.theme&&this.setState({theme:e.theme})}},{key:"render",value:function(){return this.props.children}}]),t}(b.default.PureComponent);h(v,"defaultProps",{theme:"default"}),h(v,"childContextTypes",{theme:y.noop}),v.propTypes={children:g.default.any,theme:g.default.oneOfType([g.default.string,g.default.oneOf(["default"])])};var _=v;t.default=_},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(860)),r=o.default;t.default=r},860:function(e,t,n){"use strict";function o(e){"@babel/helpers - typeof";return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,o,r=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=b();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var v=r(n(0)),_=r(n(1)),O=r(n(24)),C=r(n(3)),M=r(n(104)),E=n(2),w=r(n(277)),x=n(49),P=n(8),T=function(e){function t(e){var o;return u(this,t),o=n.call(this,e),y(h(o),"_isMounted",void 0),y(h(o),"node",void 0),y(h(o),"getScrollNodeTop",function(){var e=o.state.nodeScope;return e===window?window.scrollY:e.scrollTop}),y(h(o),"setNodeRef",function(e){return o.node=e}),o.state={isLoading:e.isLoading,nodeScope:window},o._isMounted=null,o.node=null,o.handleOnScroll=o.handleOnScroll.bind(h(o)),o}f(t,e);var n=p(t);return c(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setParentNode()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isLoading&&!this.state.isLoading&&this.handleOnLoading(),!e.isLoading&&this.state.isLoading&&this.handleOnLoaded()}},{key:"handleOnScroll",value:function(e){var t=this.props,n=t.offset,o=t.onScroll,r=this.state,a=r.isLoading,i=r.nodeScope,l=(0,x.isNodeVisible)({node:this.node,scope:i,offset:n,complete:!0});o(e,{node:this.node,offset:n,scrollNode:i,scrollTop:this.getScrollNodeTop(),isVisible:l,isLoading:a}),!a&&l&&this.handleOnLoading()}},{key:"handleOnLoading",value:function(){var e=this,t=this.props.onLoading;this._isMounted&&this.setState({isLoading:!0}),t(function(){e.handleOnLoaded()})}},{key:"handleOnLoaded",value:function(){var e=this.props.onLoaded;this.normalizeNodeScrollScroll(this.getNodeScrollTop()),e(),this._isMounted&&this.state.isLoading&&this.setState({isLoading:!1})}},{key:"getNodeScrollTop",value:function(){var e=this.state.nodeScope;return e!==window&&void 0!==e.scrollTop?e.scrollTop:e.scrollY}},{key:"normalizeNodeScrollScroll",value:function(e){var t=this.state.nodeScope;"number"===typeof e&&(t===window&&t.scrollTo?t.scrollTo(window.scrollX,e):void 0!==t.scrollTop&&(t.scrollTop=e))}},{key:"setParentNode",value:function(){var e=this.props,t=e.getScrollParent,n=e.scrollParent,o=t({node:this.node});if(o=(0,x.isNodeElement)(o)||o===window?o:null,!o&&n&&(o=(0,x.isNodeElement)(n)?n:null),!o){var r=O.default.findDOMNode(this);o=r&&r.parentNode?r.parentNode:window}this.setState({nodeScope:o})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=(e.getScrollParent,e.loading),r=(e.isLoading,e.onLoading,e.onLoaded,e.scrollParent,i(e,["className","children","getScrollParent","loading","isLoading","onLoading","onLoaded","scrollParent"])),l=this.state,u=l.isLoading,s=l.nodeScope,c=this.handleOnScroll,f=(0,E.classNames)("c-InfiniteScroller",u&&"is-loading",t),d=o||v.default.createElement(w.default,{align:"center"}),p=u?d:n;return v.default.createElement("div",a({},(0,C.default)(r),{className:f,ref:this.setNodeRef}),v.default.createElement(M.default,{event:"scroll",handler:c,scope:s}),p)}}]),t}(v.default.PureComponent);T.defaultProps={"data-cy":"InfiniteScroller",getScrollParent:P.noop,offset:0,isLoading:!1,loading:!1,onLoading:P.noop,onLoaded:P.noop,onScroll:P.noop},T.propTypes={className:_.default.string,getScrollParent:_.default.func,isLoading:_.default.bool,offset:_.default.number,onLoaded:_.default.func,onLoading:_.default.func,scrollParent:_.default.any,onScroll:_.default.func,loading:_.default.any,"data-cy":_.default.string};var j=T;t.default=j},861:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TitleUI=t.RatingsItem=t.RatingsContainer=t.RatingCardUI=t.InputUI=t.IconUI=t.DoneIconTickUI=t.DoneIconSadFaceUI=t.DoneIconCircleUI=t.DoneCardUI=t.CardContainerBackgroundUI=t.CardContainerWrapperUI=t.BodyTextUI=t.BodyUI=t.BaseCardUI=t.AvatarUI=void 0;var a=r(["\n  left: 50%;\n  position: absolute !important;\n  top: -32px;\n  transform: translateX(-50%);\n"],["\n  left: 50%;\n  position: absolute !important;\n  top: -32px;\n  transform: translateX(-50%);\n"]),i=r(["\n  background: #fff;\n  border-radius: 6px;\n  box-shadow: 0px 4px 6px rgba(29, 43, 54, 0.05);\n  margin-top: 32px;\n  width: 310px;\n"],["\n  background: #fff;\n  border-radius: 6px;\n  box-shadow: 0px 4px 6px rgba(29, 43, 54, 0.05);\n  margin-top: 32px;\n  width: 310px;\n"]),l=r(["\n  padding: 42px 20px 20px 20px;\n  text-align: center;\n"],["\n  padding: 42px 20px 20px 20px;\n  text-align: center;\n"]),u=r(["\n  font-size: 14px;\n  line-height: 21px;\n  color: ",";\n  margin-top: 20px;\n"],["\n  font-size: 14px;\n  line-height: 21px;\n  color: ",";\n  margin-top: 20px;\n"]),s=r(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: ",";\n  position: relative;\n  width: 100%;\n  z-index: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  padding-bottom: ",";\n  position: relative;\n  width: 100%;\n  z-index: 1;\n"]),c=r(["\n  background-color: ",";\n  position: absolute;\n  width: 100%;\n  height: calc(100% - 50px);\n  bottom: 0;\n"],["\n  background-color: ",";\n  position: absolute;\n  width: 100%;\n  height: calc(100% - 50px);\n  bottom: 0;\n"]),f=r(["\n  z-index: 1;\n"],["\n  z-index: 1;\n"]),d=r(["\n  background-color: ",";\n  color: #fff;\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999999;\n"],["\n  background-color: ",";\n  color: #fff;\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 9999999;\n"]),p=r(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  svg {\n    border-radius: 50%;\n    border: 2px solid #fff;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"],["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  svg {\n    border-radius: 50%;\n    border: 2px solid #fff;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]),m=r(["\n  color: #fff;\n  left: 50%;\n  top: 20px;\n  transform: translate(-50%, -50%);\n"],["\n  color: #fff;\n  left: 50%;\n  top: 20px;\n  transform: translate(-50%, -50%);\n"]),h=r(["\n  bottom: 20px;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  width: 100%;\n"],["\n  bottom: 20px;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  width: 100%;\n"]),b=r(["\n  animation: expand-and-fade-in 0.4s ease-out both;\n  height: 80px;\n  margin-bottom: 10px;\n  width: 100%;\n\n  @keyframes expand-and-fade-in {\n    0% {\n      opacity: 0;\n      transform: scale(0.8);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n"],["\n  animation: expand-and-fade-in 0.4s ease-out both;\n  height: 80px;\n  margin-bottom: 10px;\n  width: 100%;\n\n  @keyframes expand-and-fade-in {\n    0% {\n      opacity: 0;\n      transform: scale(0.8);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n"]),g=r(["\n  animation: slide-in-from-bottom 0.6s ease-out both;\n\n  @keyframes slide-in-from-bottom {\n    0% {\n      -webkit-transform: translateY(300px);\n      transform: translateY(300px);\n      opacity: 0;\n    }\n    40% {\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"],["\n  animation: slide-in-from-bottom 0.6s ease-out both;\n\n  @keyframes slide-in-from-bottom {\n    0% {\n      -webkit-transform: translateY(300px);\n      transform: translateY(300px);\n      opacity: 0;\n    }\n    40% {\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n"]),y=r(["\n  align-items: center;\n  display: flex;\n  height: 72px;\n  justify-content: center;\n  position: relative;\n  margin: 13px 0 21px;\n"],["\n  align-items: center;\n  display: flex;\n  height: 72px;\n  justify-content: center;\n  position: relative;\n  margin: 13px 0 21px;\n"]),v=r(["\n  flex: 0 0 72px;\n"],["\n  flex: 0 0 72px;\n"]),_=r(["\n  color: ",";\n  display: block;\n  font-size: 15px;\n  line-height: 19px;\n  font-weight: 500;\n"],["\n  color: ",";\n  display: block;\n  font-size: 15px;\n  line-height: 19px;\n  font-weight: 500;\n"]),O=n(37),C=o(O),M=n(880),E=o(M),w=n(21),x=o(w),P=n(312),T=o(P),j=n(150),S=o(j),k=n(9),I=o(k),N=n(5),A=(t.AvatarUI=(0,I.default)(S.default)(a),t.BaseCardUI=(0,I.default)("div")(i));t.BodyUI=(0,I.default)("div")(l),t.BodyTextUI=(0,I.default)(C.default)(u,(0,N.getColor)("charcoal.300")),t.CardContainerWrapperUI=(0,I.default)("div")(s,function(e){return e.isPoweredByEnabled?"74px":"20px"}),t.CardContainerBackgroundUI=(0,I.default)("div")(c,(0,N.getColor)("grey.300")),t.DoneCardUI=(0,I.default)(A)(f),t.DoneIconCircleUI=(0,I.default)("div")(d,function(e){return e.showTick?(0,N.getColor)("green.500"):(0,N.getColor)("indigo.200")}),t.DoneIconSadFaceUI=(0,I.default)(T.default)(p),t.DoneIconTickUI=(0,I.default)(x.default)(m),t.IconUI=(0,I.default)("div")(h),t.InputUI=(0,I.default)(E.default)(b),t.RatingCardUI=(0,I.default)(A)(g),t.RatingsContainer=(0,I.default)("div")(y),t.RatingsItem=(0,I.default)("div")(v),t.TitleUI=(0,I.default)(C.default)(_,(0,N.getColor)("charcoal.500"))},862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSound=t.DEFAULT_VOLUME=t.SOUNDS=void 0;var o=n(32),r=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=t.SOUNDS={notification:"https://beacon-v2.helpscout.net/static/ui-sounds/beacon-notification.mp3"},l=t.DEFAULT_VOLUME=.5,u=t.makeSound=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if(!(0,o.isMobile)()){var n=i[e];if(window.Audio&&e&&n){var r=new Audio(n);r.volume=t;try{r.play().catch(a.default.warn)}catch(e){a.default.warn(e)}return r}}};t.default={notification:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,["notification"].concat(t))}}},895:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(808),a=o(r),i=n(1043),l=o(i),u=a.default;u.Media=l.default,t.default=u},896:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=o(r),i=n(1),l=(o(i),n(11)),u=n(7),s=n(861),c=n(889),f=o(c),d=function(e){var t=e.companyName,n=e.children,o=e.isPoweredByEnabled;return a.default.createElement(s.CardContainerWrapperUI,{isPoweredByEnabled:o},a.default.createElement(s.CardContainerBackgroundUI,null),n,o&&a.default.createElement(s.IconUI,null,a.default.createElement(f.default,{companyName:t})))},p=function(e){return{companyName:(0,u.getCompanyName)(e),isPoweredByEnabled:(0,u.getIsPoweredByEnabled)(e)}};t.default=(0,l.connect)(p)(d)}});